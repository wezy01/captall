/**
 * jQuery Captall - Add a caption to everything - http://www.captall.be
 * ---------------------------------------------------------------------------------
 *
 * jQuery Captall is a plugin that creates captions images or any DOM element.
 *
 * Licensed under The MIT License
 *
 * @version         1.0.1
 * @since           09-29-2013
 * @author          Erwin Van Wesemael
 * @documentation   www.captall.be
 * @license         opensource.org/licenses/mit-license.php MIT
 * @package         jQuery Plugins
 *
 */
(function(c){var b=c(this);c.fn.captall=function(z,k){var g=c.extend({},c.fn.captall.defaults,z);if(this.length===0){a("Invalid selector!");return}else{if(this.length>1){return this.each(function(){c.fn.captall.apply(c(this),[z])})}}if(g.padding!==""){var u=g.padding;if(u.length===4){g.paddingTop=u[0];g.paddingRight=u[1];g.paddingBottom=u[2];g.paddingLeft=u[3]}else{if(u.length===2){g.paddingTop=u[0];g.paddingRight=u[1];g.paddingBottom=u[0];g.paddingLeft=u[1]}else{if(u.length===1){g.paddingTop=u[0];g.paddingRight=u[0];g.paddingBottom=u[0];g.paddingLeft=u[0]}else{a("Invalid padding properties");return}}}}var l=c(this),n=g.paddingTop+g.paddingBottom,A=g.paddingLeft+g.paddingRight,y;if(g.height==="full"){g.height=l.height()+n}else{if(g.height==="half"){g.height=(l.height()/2)-n}else{if(g.height===""){g.height=30}else{if(g.height.toString().indexOf("/")>=0){y=g.height.split("/");g.height=(l.height()-n)/y[1]*y[0]}else{if(g.height.toString().indexOf("%")>=0){y=g.height.split("%");g.height=(l.height()-n)*y[0]/100}}}}}if(g.width==="full"){g.width=l.width()-A}else{if(g.width==="half"){g.width=(l.width()/2)-A}else{if(g.width===""){g.width=l.width()-A}else{if(g.width.toString().indexOf("/")>=0){y=g.width.split("/");g.width=(l.width()-A)/y[1]*y[0]}else{if(g.width.toString().indexOf("%")>=0){y=g.width.split("%");g.width=(l.width()-A)*y[0]/100}}}}}if(g.time!==""){g.inTime=g.time;g.outTime=g.time}if(g.easing!==""){g.easingIn=g.easing;g.easingOut=g.easing}if(g.delay!==0){g.delayShow=g.delay;g.delayHide=g.delay}var C=l.attr("name"),m=c('<div class="'+g.cCaption+'"/>'),d=l,B=g.height+n,e=g.width+A;if(l.parent().is("a")){d=l.parent()}var h=d.wrap('<div class="'+g.cImage+'"/>').parent(),x=h.wrap('<div class="'+g.cWrapper+'"/>').parent();x.css({height:l.height(),overflow:"hidden",position:"relative",width:l.width()});m.css({width:g.width,height:g.height,opacity:g.opacity,position:"absolute","padding-top":g.paddingTop,"padding-bottom":g.paddingBottom,"padding-left":g.paddingLeft,"padding-right":g.paddingRight,"background-color":g.backgroundColor,color:g.fontColor,"font-size":g.fontSize,"text-align":g.textAlign}).click(function(f){f.stopPropagation()}).appendTo(x);if(C){var j=c(C);if(j.length){j.appendTo(m)}else{m.html('<span style="color: #F00;">Content invalid or missing!</span>')}}else{if(g.caption!==""){m.html(g.caption)}else{m.html(l.attr("alt"))}}var w=0,o=0,s=0,q=0;if(g.top===""){w=0}else{if(g.top==="center"){w=(this.height()-B-n)/2}else{if(!isNaN(g.top)){w=g.top}else{a("Invalid top value!");return}}}var t=0;var i=0;if(g.top===""){t=0}else{if(g.top==="center"){t=(this.height()-B)/2}else{if(!isNaN(g.top)){t=g.top}else{a("Invalid top value!");return}}}if(g.left===""){i=0}else{if(g.left==="center"){i=(this.width()-e)/2}else{if(!isNaN(g.left)){i=g.left}else{a("Invalid top value!");return}}}if(g.animation==="slide"||g.animation==="float"){if(g.top===""){if(g.slideTo==="bottom"){w=this.height()-g.height-n}else{if(g.slideTo==="top"){w=0}else{if(g.slideTo==="center"){w=(this.height()-B)/2}else{w=g.slideTo}}}}else{w=g.top}if(g.left===""){if(g.slideTo==="left"||g.slideTo==="bottom"){s=0}else{if(g.slideTo==="right"){s=(this.width()-e)}else{if(g.slideTo==="center"){s=(this.width()-e)/2}else{s=g.slideTo}}}}else{s=g.left}if(g.slideFrom==="bottom"||g.slideFrom==="bottomleft"){o=this.height();s=0}if(g.slideFrom==="bottomcenter"){o=this.height();s=(this.width()-e)/2;q=s}if(g.slideFrom==="bottomright"){o=this.height();s=(this.width()-e);q=s}else{if(g.slideFrom==="top"||g.slideFrom==="topleft"){o=-B;s=0}else{if(g.slideFrom==="topcenter"){o=-B;s=(this.width()-e)/2;q=s}else{if(g.slideFrom==="topright"){o=-B;s=(this.width()-e);q=s}}}}m.css({top:o+"px",left:s+"px"});if(g.slideFrom==="left"||g.slideFrom==="lefttop"){q=-e;w=g.top;o=w}else{if(g.slideFrom==="leftcenter"){q=-e;w=(this.height()-B)/2;o=w}else{if(g.slideFrom==="leftbottom"){q=-e;o=w}else{if(g.slideFrom==="right"||g.slideFrom==="righttop"){q=this.width();w=0;o=w}else{if(g.slideFrom==="rightcenter"){q=this.width();w=(this.height()-B)/2;o=w}else{if(g.slideFrom==="rightbottom"){q=this.width();w=(this.height()-B);o=w}}}}}}m.css({top:o+"px",left:q+"px"});var v=g.opacity;if(g.animation==="float"){m.css("opacity",0);m.animate({opacity:0},0);v=0}x.hover(function(){m.delay(g.showDelay).animate({top:w,left:s,opacity:g.opacity},{duration:g.inTime,easing:g.easingIn,queue:true})},function(){m.stop().delay(g.hideDelay).animate({top:o,left:q,opacity:v},{duration:g.outTime,easing:g.easingOut,queue:true})})}else{if(g.animation==="fade"){m.css({opacity:0,top:t+"px",left:i+"px"});x.hover(function(){m.stop().delay(g.delayShow).animate({opacity:g.opacity},{duration:g.inTime})},function(){m.stop().delay(g.delayHide).animate({opacity:0},{duration:g.outTime})})}else{if(g.animation==="fixed"){m.css({top:t+"px",left:i+"px"});if(g.fadeOutAfter!==""){m.delay(g.fadeOutAfter).animate({opacity:0},g.outTime)}}else{a(l.attr("id")+": invalid animation!")}}}function r(f){m.html(g.caption)}return l};function a(d){if(window.console&&window.console.log){window.console.log(d)}}c.fn.captall.caption=function(d){b.setCaption(d)};c.fn.captall.defaults={caption:"",animation:"slide",slideFrom:"top",slideTo:"bottom",cCaption:"captall-caption",cImage:"captall-image",cWrapper:"captall-wrapper",top:"",left:"",width:"",height:"",opacity:0.7,time:"",inTime:200,outTime:200,padding:"",paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,backgroundColor:"#fff",fontColor:"#000",fontsize:"16px",textAlign:"left",delay:0,delayShow:0,delayHide:0,fadeOutAfter:"",easing:"",easingIn:"",easingOut:""}}(jQuery));